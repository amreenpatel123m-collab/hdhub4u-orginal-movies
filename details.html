<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download Movie - HDHub4u</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background: #0f0f0f; color: #fff; font-family: 'Segoe UI', sans-serif; }
        .hero-bg { 
            height: 400px; background-size: cover; background-position: top;
            filter: blur(8px) brightness(0.4); position: absolute; width: 100%; z-index: -1;
        }
        .main-container { max-width: 1100px; margin: 50px auto; padding: 20px; }
        .movie-header { display: flex; gap: 30px; flex-wrap: wrap; background: rgba(0,0,0,0.6); padding: 20px; border-radius: 15px; }
        .poster-box { position: relative; width: 300px; }
        .poster-box img { width: 100%; border-radius: 10px; border: 3px solid #ff9d00; }
        .hindi-tag { 
            position: absolute; top: 10px; left: -10px; background: red; color: white;
            padding: 5px 15px; font-weight: bold; transform: rotate(-5deg); box-shadow: 2px 2px 10px #000;
        }
        
        .movie-specs { background: #222; padding: 15px; border-radius: 10px; margin: 20px 0; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 14px; }
        .specs-item { color: #ff9d00; font-weight: bold; }

        .screenshot-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin: 20px 0; }
        .screenshot-grid img { width: 100%; border-radius: 8px; border: 1px solid #444; }

        .download-area { text-align: center; background: #1a1a1a; padding: 40px 20px; border-radius: 20px; border: 2px dashed #ff9d00; }
        .dl-server { display: block; background: linear-gradient(90deg, #ff9d00, #ff6a00); color: #000; 
                     padding: 15px; margin: 10px auto; max-width: 500px; border-radius: 50px; 
                     text-decoration: none; font-weight: bold; font-size: 18px; transition: 0.3s; }
        .dl-server:hover { transform: scale(1.05); box-shadow: 0 0 20px #ff9d00; }
        
        h3 { border-left: 5px solid #ff9d00; padding-left: 10px; margin: 30px 0 15px; color: #ff9d00; }
    </style>
</head>
<body>
    <div id="hero" class="hero-bg"></div>
    <div class="main-container" id="details-content">
        </div>

    <script>
        const API_KEY = '7cf8535c2aa2c745040de291475c23d2';
        const params = new URLSearchParams(window.location.search);
        const id = params.get('id');
        const type = params.get('type') || 'movie';

        async function fetchDetails() {
            const res = await fetch(`https://api.themoviedb.org/3/${type}/${id}?api_key=${API_KEY}&append_to_response=videos,images,credits`);
            const data = await res.json();

            // Background & Screenshots
            document.getElementById('hero').style.backgroundImage = `url(https://image.tmdb.org/t/p/original${data.backdrop_path})`;
            const screenshots = data.images.backdrops.slice(1, 5).map(img => `<img src="https://image.tmdb.org/t/p/w500${img.file_path}">`).join('');
            const trailer = data.videos.results.find(v => v.type === 'Trailer');

            document.getElementById('details-content').innerHTML = `
                <div class="movie-header">
                    <div class="poster-box">
                        <div class="hindi-tag">HINDI DUBBED</div>
                        <img src="https://image.tmdb.org/t/p/w500${data.poster_path}">
                    </div>
                    <div style="flex:1">
                        <h1 style="font-size:35px">${data.title || data.name}</h1>
                        <p style="margin:15px 0; color:#bbb">${data.overview}</p>
                        <div class="movie-specs">
                            <div><span class="specs-item">Language:</span> Hindi (Dual Audio)</div>
                            <div><span class="specs-item">Quality:</span> 480p, 720p, 1080p WEB-DL</div>
                            <div><span class="specs-item">Release:</span> ${data.release_date || data.first_air_date}</div>
                            <div><span class="specs-item">Rating:</span> ⭐ ${data.vote_average.toFixed(1)}</div>
                        </div>
                    </div>
                </div>

                <h3>Screenshots:</h3>
                <div class="screenshot-grid">${screenshots}</div>

                ${trailer ? `<h3>Watch Official Trailer:</h3>
                <div style="border-radius:15px; overflow:hidden;">
                    <iframe width="100%" height="450" src="https://www.youtube.com/embed/${trailer.key}" frameborder="0" allowfullscreen></iframe>
                </div>` : ''}

                <div class="download-area">
                    <h2 style="margin-bottom:20px;">⚡ Download Links ⚡</h2>
                    <a href="#" class="dl-server"><i class="fa fa-bolt"></i> Direct Download (High Speed)</a>
                    <a href="#" class="dl-server" style="background:#2ecc71"><i class="fa fa-folder-open"></i> G-Drive Login & Pay</a>
                    <a href="#" class="dl-server" style="background:#3498db"><i class="fa fa-cloud"></i> Mega.nz Download</a>
                    <p style="margin-top:15px; font-size:12px; color:gray;">*Note: Use VPN if links are not working in your region.</p>
                </div>
            `;
        }
        fetchDetails();
    </script>
</body>
</html>
